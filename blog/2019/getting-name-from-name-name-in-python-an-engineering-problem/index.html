<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Getting [name] from "Name: [name]" in Python - an engineering problem | Joep Schuurkes</title>
<link href="../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Playfair+Display:700,900" rel="stylesheet">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../rss.xml">
<link rel="alternate" type="application/atom+xml" title="Atom" hreflang="en" href="../../feed.atom">
<link rel="canonical" href="https://smallsheds.garden/blog/2019/getting-name-from-name-name-in-python-an-engineering-problem/">
<link rel="icon" href="../../../assets/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" href="../../../assets/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" href="../../../assets/favicons/favicon-96x96.png" sizes="96x96">
<!--[if lt IE 9]><script src="../../../assets/js/html5.js"></script><![endif]--><script defer data-domain="j19sch.github.io" src="https://plausible.io/js/plausible.js"></script><meta name="author" content="Joep Schuurkes">
<link rel="prev" href="../your-ci-cd-pipeline-does-not-run-regression-tests/" title="Your CI/CD pipeline does not run regression tests" type="text/html">
<link rel="next" href="../../clojure/2020/clj0-diving-straight-in/" title="(clj 0) Diving straight in with some koans" type="text/html">
<meta property="og:site_name" content="Joep Schuurkes">
<meta property="og:title" content='Getting [name] from "Name: [name]" in Python - an engineering problem'>
<meta property="og:url" content="https://smallsheds.garden/blog/2019/getting-name-from-name-name-in-python-an-engineering-problem/">
<meta property="og:description" content="Today I was presented with an interesting engineering problem. (Important later: context was the code of an auto-test.) Given a string of the format &quot;Name: [name]&quot;, what's the best way to get the [nam">
<meta property="og:image" content="https://smallsheds.garden/images/default-preview.jpeg">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2019-08-26T21:27:38+02:00">
<meta property="article:tag" content="programming">
<meta property="article:tag" content="python">
<meta property="article:tag" content="semantics">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Header and menu bar -->
<div class="container">
      <header class="blog-header py-3"><div class="row nbb-header align-items-center">
          <div class="col-md-3 col-xs-2 col-sm-2" style="width: auto;">
            <button class="navbar-toggler navbar-light bg-light nbb-navbar-toggler" type="button" data-toggle="collapse" data-target=".bs-nav-collapsible" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse bs-nav-collapsible bootblog4-search-form-holder">
                
            </div>
        </div>
          <div class="col-md-6 col-xs-10 col-sm-10 bootblog4-brand" style="width: auto;">
            <a class="navbar-brand blog-header-logo text-dark" href="../../../">

            <span id="blog-title">Joep Schuurkes</span>
        </a>
          </div>
            <div class="col-md-3 justify-content-end align-items-center bs-nav-collapsible collapse flex-collapse bootblog4-right-nav">
            <nav class="navbar navbar-light bg-white"><ul class="navbar-nav bootblog4-right-nav"></ul></nav>
</div>
    </div>
</header><nav class="navbar navbar-expand-md navbar-light bg-white static-top"><div class="collapse navbar-collapse bs-nav-collapsible" id="bs-navbar">
            <ul class="navbar-nav nav-fill d-flex w-100">
<li class="nav-item">
<a href="../../../index.html" class="nav-link">Home</a>
                </li>
<li class="nav-item">
<a href="../../../my-projects/" class="nav-link">Projects</a>
                </li>
<li class="nav-item">
<a href="../../../my-talks/" class="nav-link">Talks</a>
            </li>
<li class="nav-item dropdown">
<a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Lists</a>
            <div class="dropdown-menu">
                    <a href="../../../my-lists/reading-list/" class="dropdown-item">Reading list</a>
                    <a href="../../../my-lists/recommended-reading/" class="dropdown-item">Recommended reading</a>
                    <a href="../../../my-lists/favorite-podcasts/" class="dropdown-item">Favorite podcasts</a>
            </div>
            </li>
<li class="nav-item dropdown">
<a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Blog</a>
            <div class="dropdown-menu">
                    <a href="../../" class="dropdown-item">My blog</a>
                    <a href="../../../categories/" class="dropdown-item">Categories and tags</a>
                    <a href="../../../archive.html" class="dropdown-item">Archive</a>
                    <a href="../../rss.xml" class="dropdown-item"><span class="caps">RSS</span> feed</a>
                    <a href="../../feed.atom" class="dropdown-item">Atom feed</a>
            </div>

                
            </li>
</ul>
</div>
<!-- /.navbar-collapse -->
</nav>
</div>

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Getting [name] from &#8220;Name: [name]&#8221; in Python - an engineering&nbsp;problem</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    Joep&nbsp;Schuurkes
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2019-08-26T21:27:38+02:00" itemprop="datePublished" title="26 August 2019">26 August 2019</time></a>
            </p>
            
        </div>
        
    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>Today I was presented with an interesting engineering problem. (Important later: context was the code of an auto-test.) Given a string of the format &#8220;Name: [name]&#8221;, what&#8217;s the best way to get the [name] in&nbsp;Python?</p>
<p>There are several&nbsp;options:</p>
<ul>
<li><code>lstrip()</code></li>
<li><code>split()</code></li>
<li><code>replace()</code></li>
<li>string&nbsp;slicing</li>
<li>regex</li>
</ul>
<p>So let&#8217;s look at each of them and then I&#8217;ll explain which one I prefer and why. All examples are in Python 3.6, using the <a href="https://docs.python.org/3.6/tutorial/interpreter.html">Python Interpreter</a>.</p>
<!-- TEASER_END -->

<h3>lstrip()</h3>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span> <span class="n">our_string</span> <span class="o">=</span> <span class="s2">"Name: this-is-the-name"</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">our_string</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s2">"Name: "</span><span class="p">)</span>
<span class="s1">'this-is-the-name'</span>
</pre></div>

<p>That seems to work until we try a different&nbsp;string:</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span> <span class="n">our_other_string</span> <span class="o">=</span> <span class="s2">"Name: a name"</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">our_other_string</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s2">"Name: "</span><span class="p">)</span>
<span class="s1">'name'</span>
</pre></div>

<p>This may seem weird,&nbsp;but <code>lstrip()</code> is doing exactly <a href="https://docs.python.org/3.6/library/stdtypes.html#str.lstrip">what it says it will do</a>: &#8220;The chars argument is not a prefix; rather, all combinations of its values are stripped.&#8221; So it will continue stripping until it encounters the first character that doesn&#8217;t match any character in the string we gave&nbsp;to <code>lstrip()</code>.</p>
<p>To fix that, we can&nbsp;do:</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span> <span class="n">our_other_string</span> <span class="o">=</span> <span class="s2">"Name: a name"</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">our_other_string</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s2">"Name:"</span><span class="p">)</span><span class="o">.</span><span class="n">lstrip</span><span class="p">()</span>
<span class="s1">'a name'</span>
</pre></div>

<p>Where the&nbsp;first <code>lstrip()</code> won&#8217;t get beyond the space and the&nbsp;second <code>lstrip()</code> will get rid of that space for&nbsp;us.</p>
<h3>split()</h3>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span> <span class="n">our_string</span> <span class="o">=</span> <span class="s2">"Name: this-is-the-name"</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">our_string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">":"</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">lstrip</span><span class="p">()</span>
<span class="s1">'this-is-the-name'</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">our_other_string</span> <span class="o">=</span> <span class="s2">"Name: a name"</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">our_other_string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">":"</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">lstrip</span><span class="p">()</span>
<span class="s1">'a name'</span>
</pre></div>

<p>The <code>split()</code> method will <a href="https://docs.python.org/3.6/library/stdtypes.html#str.split">split the string</a> on the colon (:) into a list with two items. We get the second item with&nbsp;the <code>[1]</code> (list indices start at 0). We strip off the leading&nbsp;space.</p>
<h3>replace()</h3>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span> <span class="n">our_string</span> <span class="o">=</span> <span class="s2">"Name: this-is-the-name"</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">our_string</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">"Name: "</span><span class="p">,</span> <span class="s2">""</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="s1">'this-is-the-name'</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">our_other_string</span> <span class="o">=</span> <span class="s2">"Name: a name"</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">our_other_string</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">"Name: "</span><span class="p">,</span> <span class="s2">""</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="s1">'a name'</span>
</pre></div>

<p>The <code>replace()</code> method replaces parts of a string. So here we replace &#8220;Name: &#8221; with an empty string - deleting it. The &#8216;1&#8217; argument at the end&nbsp;tells <code>replace()</code> to only replace the first&nbsp;occurrence:</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span> <span class="n">too_many</span> <span class="o">=</span> <span class="s2">"Name: more Name: please"</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">too_many</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">"Name: "</span><span class="p">,</span> <span class="s2">""</span><span class="p">)</span>
<span class="s1">'more please'</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">too_many</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">"Name: "</span><span class="p">,</span> <span class="s2">""</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="s1">'more Name: please'</span>
</pre></div>

<h3>string&nbsp;slicing</h3>
<p>Python allows you to grab slices from a string similar to what you do from a list (as we did for&nbsp;the <code>split()</code> above).</p>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span> <span class="n">our_string</span> <span class="o">=</span> <span class="s2">"Name: this-is-the-name"</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">our_string</span><span class="p">[</span><span class="mi">6</span><span class="p">:]</span>
<span class="s1">'this-is-the-name'</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">our_other_string</span> <span class="o">=</span> <span class="s2">"Name: a name"</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">our_other_string</span><span class="p">[</span><span class="mi">6</span><span class="p">:]</span>
<span class="s1">'a name'</span>
</pre></div>

<p>The number before the colon tells Python where to start, the one after the colon where to end.&nbsp;So <code>[6:]</code> means to start after the 6th character (or rather from index 6, since indices start at 0) and continue until the end of the string (because no number was&nbsp;given).</p>
<h3>regex</h3>
<div class="code"><pre class="code literal-block"><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">re</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">regex</span> <span class="o">=</span> <span class="s2">"(^Name: )(.+)"</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">our_string</span> <span class="o">=</span> <span class="s2">"Name: this-is-the-name"</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">regex</span><span class="p">,</span> <span class="n">our_string</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="s1">'this-is-the-name'</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">our_other_string</span> <span class="o">=</span> <span class="s2">"Name: a name"</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">regex</span><span class="p">,</span> <span class="n">our_other_string</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="s1">'a name'</span>
</pre></div>

<p>The regular expression is defined in&nbsp;the <code>regex</code> variable. It describes a string that starts with &#8220;Name: &#8221; and is followed by at least one other character. The parentheses define groups, which we&#8217;ll use to get the part we&#8217;re interested in, i.e. the part after &#8220;Name:&nbsp;&#8221;.</p>
<p><code>match()</code> will return a <a href="https://docs.python.org/3.6/library/re.html#match-objects">match object</a> if zero or more characters at the beginning of the string <a href="https://docs.python.org/3.6/library/re.html#re.match">match</a> the regular expression pattern. Which means we don&#8217;t actually need the &#8216;^&#8217; at the start of our regex to only match the start of the&nbsp;string.</p>
<p><code>group()</code> will return <a href="https://docs.python.org/3.6/library/re.html#re.match.group">one or more subgroups</a> of the match. The zeroth group is the entire match. Thanks to the parentheses in our regex definition we also have a first group (&#8220;Name: &#8220;) and a second group (the thing we&#8217;re&nbsp;after).</p>
<h3>which one to&nbsp;use</h3>
<p>Going through the options they all have&nbsp;disadvantages:</p>
<ul>
<li>
<code>lstrip()</code> strips characters not strings, but we want to strip a certain&nbsp;string.</li>
<li>
<code>split()</code> returns two things of which we need only one after we&nbsp;have <code>lstrip()</code>-ed&nbsp;it.</li>
<li>
<code>replace()</code> returns a changed copy of a string, while we just want to parse the original&nbsp;string.</li>
<li>string slicing ditches the first 6 characters not caring what they&nbsp;are.</li>
<li>regex feels like a bit too&nbsp;much.</li>
</ul>
<p>However, two of them have a distinct advantage over the&nbsp;others.</p>
<p>As I said in the introduction, the context of this problem was the code of an auto-test. More specifically, the &#8220;Name: [name]&#8221; is returned by Selenium WebDriver as the content of an html tag. So without knowing or seeing the application, just from reading the code that retrieves the content of the tag, you have no idea what this string is that we are&nbsp;manipulating.</p>
<p>So that&#8217;s the first thing we want from our solution: it should give as much information about the string we are manipulating as possible. This means&nbsp;that <code>split()</code> and string slicing are not an option.&nbsp;The <code>split()</code> solution only tells you there&#8217;s a colon followed by a whitespace in the string. The string slicing solution only tells you there are at least 7 characters in the&nbsp;string.</p>
<p>Secondly, the solution should capture our intention as clearly as possible, which is getting the [name] from the string &#8220;Name: [name]&#8221;. That&nbsp;means <code>lstrip()</code> is out, because it strips characters, not a specific&nbsp;string.</p>
<p>You could argue something similar&nbsp;for <code>replace()</code>, since the &#8220;replace with empty string&#8221; is a somewhat clever hack to use something intended for editing to retrieve a specific part of a string. On the other hand, the code is clear enough -&nbsp;unlike <code>lstrip()</code> where the characters-not-string might become a bit of a surprise down the&nbsp;line.</p>
<p>So basically we&#8217;re left&nbsp;with <code>replace()</code> and regex. At the office we hadn&#8217;t figured out&nbsp;that <code>replace()</code> has a count argument, so based on ‘But what if there&#8217;s a &#8220;Name: &#8221; in the content of the tag?&#8217;, we went with the regex solution. Regardless, I still think that the regex solution is the clearest&nbsp;one.</p>
<h3>conclusion</h3>
<p>The <a href="https://www.python.org/dev/peps/pep-0020/">Zen of Python</a> states: &#8220;Explicit is better than implicit.&#8221; This one sentence is the reason I can write a whole blog post about what the best way is to get [name] from &#8220;Name: [name]&#8221;. Code being explicit about what it&#8217;s doing and what it is trying to do, matters. The more explicit it is, the better it can serve as&nbsp;documentation.</p>
<p>But what if you have to choose? The regex solution is indeed the clearest - assuming you know some regex, that is. So the solution that&#8217;s most explicit about what the string is and what our intentions with it are, is the least explicit about how it does what it does. (Also, if you have trouble understanding what it does, it will be hard to determine the intentions behind the code.) So what&nbsp;now?</p>
<p>Personally I will always trade the code being less explicit about what it does for being more explicit about the thing-under-test and what my intentions are. Because figuring out what the thing-under-test exactly does and what someone&#8217;s intentions were, are hard things to do. Learning some new things about a programming language or tool, significantly less so - even if it&#8217;s&nbsp;regex.</p>
<hr>
<p><em>This post was originally published on my old&nbsp;blog.</em></p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../../categories/programming/" rel="tag">programming</a></li>
            <li><a class="tag p-category" href="../../../categories/python/" rel="tag">python</a></li>
            <li><a class="tag p-category" href="../../../categories/semantics/" rel="tag">semantics</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../your-ci-cd-pipeline-does-not-run-regression-tests/" rel="prev" title="Your CI/CD pipeline does not run regression tests">Previous&nbsp;post</a>
            </li>
            <li class="next">
                <a href="../../clojure/2020/clj0-diving-straight-in/" rel="next" title="(clj 0) Diving straight in with some koans">Next&nbsp;post</a>
            </li>
        </ul></nav></aside></article><!--End of body content--><footer id="footer">
            Contents © 2024 
<a href="https://creativecommons.org/licenses/by/4.0/" rel="nofollow" target="_blank">
<img alt="Creative Commons License" style="border-width:0;margin: 0px 0px 0px 0px" src="https://licensebuttons.net/l/by/4.0/80x15.png"></a>
<a href="mailto:site@joep.slmail.me">Joep Schuurkes</a> - Powered by <a href="https://getnikola.com" rel="nofollow" target="_blank">Nikola</a> - Analytics by <a href="https://plausible.io/" rel="nofollow" target="_blank">Plausible</a>
            
        </footer>
</div>
</div>

        <script src="../../../assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element){var i=element.getElementsByTagName('img')[0];return i===undefined?'':i.alt;}});
    </script>
</body>
</html>