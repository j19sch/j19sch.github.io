<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="You can concatenate faster than you can reverse.">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Benchmarking counterstring implementations in TypeScript | Joep Schuurkes</title>
<link href="../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Playfair+Display:700,900" rel="stylesheet">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../rss.xml">
<link rel="alternate" type="application/atom+xml" title="Atom" hreflang="en" href="../../feed.atom">
<link rel="canonical" href="https://smallsheds.garden/blog/2025/benchmarking-counterstring-implementations-in-typescript/">
<link rel="icon" href="../../../assets/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" href="../../../assets/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" href="../../../assets/favicons/favicon-96x96.png" sizes="96x96">
<!--[if lt IE 9]><script src="../../../assets/js/html5.js"></script><![endif]--><!-- Privacy-friendly analytics by Plausible --><script async src="https://plausible.io/js/pa-QXPguu2aya7fgEtw5-p4P.js"></script><script>
  window.plausible=window.plausible||function(){(plausible.q=plausible.q||[]).push(arguments)},plausible.init=plausible.init||function(i){plausible.o=i||{}};
  plausible.init()
</script><meta name="author" content="Joep Schuurkes">
<link rel="prev" href="../optimizing-for-moments-of-discovery/" title="Optimizing for moments of discovery" type="text/html">
<link rel="next" href="../five-levels-of-note-taking-in-meetings/" title="Five levels of note-taking in meetings" type="text/html">
<meta property="og:site_name" content="Joep Schuurkes">
<meta property="og:title" content="Benchmarking counterstring implementations in TypeScript">
<meta property="og:url" content="https://smallsheds.garden/blog/2025/benchmarking-counterstring-implementations-in-typescript/">
<meta property="og:description" content="You can concatenate faster than you can reverse.">
<meta property="og:image" content="https://smallsheds.garden/images/default-preview.jpeg">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2025-02-23T00:00:00+01:00">
<meta property="article:tag" content="counterstring">
<meta property="article:tag" content="programming">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Header and menu bar -->
<div class="container">
      <header class="blog-header py-3"><div class="row nbb-header align-items-center">
          <div class="col-md-3 col-xs-2 col-sm-2" style="width: auto;">
            <button class="navbar-toggler navbar-light bg-light nbb-navbar-toggler" type="button" data-toggle="collapse" data-target=".bs-nav-collapsible" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse bs-nav-collapsible bootblog4-search-form-holder">
                
            </div>
        </div>
          <div class="col-md-6 col-xs-10 col-sm-10 bootblog4-brand" style="width: auto;">
            <a class="navbar-brand blog-header-logo text-dark" href="../../../">

            <span id="blog-title">Joep Schuurkes</span>
        </a>
          </div>
            <div class="col-md-3 justify-content-end align-items-center bs-nav-collapsible collapse flex-collapse bootblog4-right-nav">
            <nav class="navbar navbar-light bg-white"><ul class="navbar-nav bootblog4-right-nav"></ul></nav>
</div>
    </div>
</header><nav class="navbar navbar-expand-md navbar-light bg-white static-top"><div class="collapse navbar-collapse bs-nav-collapsible" id="bs-navbar">
            <ul class="navbar-nav nav-fill d-flex w-100">
<li class="nav-item dropdown">
<a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Blog</a>
            <div class="dropdown-menu">
                    <a href="../../" class="dropdown-item">My blog</a>
                    <a href="../../../categories/" class="dropdown-item">Categories and tags</a>
                    <a href="../../../archive.html" class="dropdown-item">Archive</a>
                    <a href="../../rss.xml" class="dropdown-item"><span class="caps">RSS</span> feed</a>
                    <a href="../../feed.atom" class="dropdown-item">Atom feed</a>
            </div>
                </li>
<li class="nav-item">
<a href="../../../my-projects/" class="nav-link">Projects</a>
                </li>
<li class="nav-item">
<a href="../../../my-talks/" class="nav-link">Talks</a>
                </li>
<li class="nav-item">
<a href="../../../index.html" class="nav-link">About&nbsp;me</a>

                
            </li>
</ul>
<div id="search" style="text-align: center;margin-left: 40px; margin-right: 40px">
                <form method="get" id="search" target="_blank" action="https://noai.duckduckgo.com/">
                    <input type="hidden" name="sites" value="https://smallsheds.garden/"><input type="hidden" name="k8" value="#444444"><!-- text color code --><input type="hidden" name="k9" value="#D51920"><!-- links color code --><input type="hidden" name="kt" value="h"><!-- text font --><input type="text" name="q" size="14" maxlength="255" placeholder="Search..." arial-label="search this site" class="span2" style="margin-top: 4px;"><input type="submit" value="DuckDuckGo Search" style="display:none;">
</form>
            </div>
        </div>
<!-- /.navbar-collapse -->
</nav>
</div>

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Benchmarking counterstring implementations in&nbsp;TypeScript</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    Joep&nbsp;Schuurkes
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2025-02-23T00:00:00+01:00" itemprop="datePublished" title="23 February 2025">23 February 2025</time></a>
            </p>
            
        </div>
        
    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>Earlier this year I posted about how I <a href="../using-fake-it-till-you-make-it-to-implement-counterstring/">implemented a counterstring function</a> using &#8220;fake it till you make it&#8221;. I also posted about <a href="../comparing-counterstring-implementations-in-typescript/">different ways</a> to implement counterstrings. In this post, I want to share how those different implementations compare&nbsp;performance-wise.</p>
<p>To do this, I used both <a href="https://github.com/tinylibs/tinybench">Tinybench</a> and <a href="https://vitest.dev/guide/features.html#benchmarking">vitest bench</a> (which uses Tinybench). The results are basically the same, but their default output is slightly&nbsp;different.</p>
<h2>The nine&nbsp;implementations</h2>
<p>Before I present the results, I should describe the different implementations and how they differ from each other. The <a href="https://github.com/j19sch/counterstring/blob/04883b7bb2f3e99f7be81ffa58e4ac5f934d276b/src/alt-counterstrings.ts">actual code of each implementation</a> is available on GitHub. Here I&#8217;ll only mention what makes each implementation interesting compared to the&nbsp;others:</p>
<!-- TEASER_END -->

<ul>
<li>
<code>createListAndReverseIt</code>: creates the counterstring as a list, starting at the end of the string, appending the token and the numbers as separate element, then reverses the list and turns it into a&nbsp;string.</li>
<li>
<code>evilTester</code>: creates the counterstring as a string, but backwards, adding token and number in the same operation, then reverses the whole string. This version is copied from <a href="https://www.eviltester.com/blog/eviltester/chrome-extensions/2019-02-19-counterstring-snippets/#counterstring-generation-function">EvilTester&#8217;s blog post</a> about his counterstring Chrome&nbsp;extension.</li>
<li>
<code>evilTesterCreateListAndReverseIt</code>: creates the counterstring as a list instead of a string, starting at the end, adding token and number in the same operation, then reverses the list and turns it into a&nbsp;string.</li>
<li>
<code>perClipInTS</code>: essentially the same&nbsp;as <code>evilTester</code>, translated by me from <a href="https://www.satisfice.com/download/perlclip">the original Perl</a> to&nbsp;TypeScript.</li>
<li>
<code>recursiveFunction</code>: completely different from all other implementation, because recursion, runs out of stack for long&nbsp;counterstrings.</li>
<li>
<code>whileAndIfButSeparate</code>: prepends to a string instead of reversing a list, but adds token and number&nbsp;separately.</li>
<li>
<code>whileAndIfWithPlus</code>: prepends to a string, adding token and number in the same operation,&nbsp;uses <code>+</code> for string&nbsp;concatenation.</li>
<li>
<code>whileAndIfWithConcat</code>: prepends to a string, adding token and number in the same operation,&nbsp;uses <code>concat()</code> for string&nbsp;concatenation.</li>
<li>
<code>whileAndIfWithTemplateString</code>: prepends to a string, adding token and number in the same operation, uses template strings for string&nbsp;concatenation.</li>
</ul>
<h2>The&nbsp;results</h2>
<p>Below are the results of running benchmarks on those nine implementations. Since it&#8217;s a measurement over a number of samples, I ran the benchmarks twice with each of the two tools, Tinybench and Vitest bench. This way you can see for yourself what variations there are and how meaningful they&nbsp;are.</p>
<p>All benchmarks were run for a counterstring with length&nbsp;1.000. </p>
<h3>Tinybench</h3>
<div class="code"><pre class="code literal-block">┌─────────┬────────────────────────────────────┬──────────────────┬────────────────────┬────────────────────────┬────────────────────────┬─────────┐
│ (index) │ Task name                          │ Latency avg (ns) │ Latency med (ns)   │ Throughput avg (ops/s) │ Throughput med (ops/s) │ Samples │
├─────────┼────────────────────────────────────┼──────────────────┼────────────────────┼────────────────────────┼────────────────────────┼─────────┤
│ 0       │ 'createListAndReverseIt'           │ '89422 ± 1.04%'  │ '87715 ± 1254.00'  │ '11307 ± 0.39%'        │ '11401 ± 164'          │ 1119    │
│ 1       │ 'evilTester'                       │ '354031 ± 1.65%' │ '341984 ± 2804.00' │ '2859 ± 1.02%'         │ '2924 ± 24'            │ 283     │
│ 2       │ 'evilTesterCreateListAndReverseIt' │ '58279 ± 1.34%'  │ '56386 ± 1068.50'  │ '17523 ± 0.39%'        │ '17735 ± 335'          │ 1716    │
│ 3       │ 'perClipInTS'                      │ '362797 ± 0.83%' │ '355694 ± 2303.50' │ '2767 ± 0.64%'         │ '2811 ± 18'            │ 276     │
│ 4       │ 'recursive'                        │ '45464 ± 1.31%'  │ '44154 ± 774.00'   │ '22457 ± 0.32%'        │ '22648 ± 393'          │ 2200    │
│ 5       │ 'whileAndIfButSeparate'            │ '36134 ± 1.15%'  │ '34983 ± 613.00'   │ '28304 ± 0.28%'        │ '28586 ± 501'          │ 2768    │
│ 6       │ 'whileAndIfWithConcat'             │ '27716 ± 1.72%'  │ '26323 ± 662.00'   │ '37452 ± 0.29%'        │ '37990 ± 951'          │ 3609    │
│ 7       │ 'whileAndIfWithTemplateString'     │ '28945 ± 1.57%'  │ '27704 ± 305.00'   │ '35656 ± 0.26%'        │ '36096 ± 399'          │ 3455    │
│ 8       │ 'whileAndIfWithPlus'               │ '27142 ± 1.44%'  │ '26099 ± 552.00'   │ '37953 ± 0.25%'        │ '38316 ± 812'          │ 3685    │
└─────────┴────────────────────────────────────┴──────────────────┴────────────────────┴────────────────────────┴────────────────────────┴─────────┘
</pre></div>

<div class="code"><pre class="code literal-block">┌─────────┬────────────────────────────────────┬──────────────────┬────────────────────┬────────────────────────┬────────────────────────┬─────────┐
│ (index) │ Task name                          │ Latency avg (ns) │ Latency med (ns)   │ Throughput avg (ops/s) │ Throughput med (ops/s) │ Samples │
├─────────┼────────────────────────────────────┼──────────────────┼────────────────────┼────────────────────────┼────────────────────────┼─────────┤
│ 0       │ 'createListAndReverseIt'           │ '89954 ± 1.49%'  │ '87752 ± 1141.50'  │ '11308 ± 0.42%'        │ '11396 ± 148'          │ 1112    │
│ 1       │ 'evilTester'                       │ '352842 ± 1.61%' │ '342107 ± 2563.00' │ '2867 ± 0.98%'         │ '2923 ± 22'            │ 285     │
│ 2       │ 'evilTesterCreateListAndReverseIt' │ '58529 ± 1.69%'  │ '56206 ± 1137.00'  │ '17566 ± 0.41%'        │ '17792 ± 361'          │ 1709    │
│ 3       │ 'perClipInTS'                      │ '365456 ± 0.90%' │ '357899 ± 3029.50' │ '2748 ± 0.69%'         │ '2794 ± 24'            │ 274     │
│ 4       │ 'recursive'                        │ '45562 ± 1.41%'  │ '44280 ± 781.00'   │ '22420 ± 0.31%'        │ '22584 ± 400'          │ 2195    │
│ 5       │ 'whileAndIfButSeparate'            │ '36294 ± 1.14%'  │ '35100 ± 602.50'   │ '28199 ± 0.30%'        │ '28490 ± 489'          │ 2756    │
│ 6       │ 'whileAndIfWithConcat'             │ '27504 ± 1.70%'  │ '26254 ± 631.00'   │ '37615 ± 0.27%'        │ '38089 ± 917'          │ 3636    │
│ 7       │ 'whileAndIfWithTemplateString'     │ '29045 ± 1.76%'  │ '27712 ± 331.00'   │ '35663 ± 0.26%'        │ '36085 ± 432'          │ 3443    │
│ 8       │ 'whileAndIfWithPlus'               │ '27438 ± 1.55%'  │ '26266 ± 587.00'   │ '37657 ± 0.27%'        │ '38072 ± 852'          │ 3645    │
└─────────┴────────────────────────────────────┴──────────────────┴────────────────────┴────────────────────────┴────────────────────────┴─────────┘
</pre></div>

<h3>Vitest&nbsp;bench</h3>
<div class="code"><pre class="code literal-block"> ✓ src/counterstring.bench.ts &gt; counterstring 10.000 5463ms
     name                                     hz     min     max    mean     p75     p99    p995    p999     rme  samples
   · createListAndReverseIt            11,316.91  0.0806  0.5631  0.0884  0.0873  0.1769  0.2184  0.4049  ±0.60%     5659
   · evilTester                         2,880.72  0.3286  0.7000  0.3471  0.3425  0.5902  0.6176  0.6949  ±0.58%     1441
   · evilTesterCreateListAndReverseIt  17,479.24  0.0516  0.5128  0.0572  0.0559  0.0830  0.2087  0.4172  ±0.78%     8740
   · perClipInTS                        2,762.65  0.3419  0.9007  0.3620  0.3558  0.6097  0.6700  0.7529  ±0.63%     1382   slowest
   · recursiveFunction                 21,164.81  0.0431  0.5269  0.0472  0.0457  0.0638  0.2458  0.3985  ±0.92%    10583
   · whileAndIfButSeparate             24,820.37  0.0365  0.4621  0.0403  0.0391  0.0611  0.1877  0.2385  ±0.71%    12411
   · whileAndIfWithConcat              32,319.46  0.0281  0.3969  0.0309  0.0301  0.0477  0.1586  0.1956  ±0.65%    16160   fastest
   · whileAndIfWithPlus                32,102.33  0.0281  0.4157  0.0312  0.0304  0.0475  0.1600  0.1885  ±0.67%    16052
   · whileAndIfWithTemplateString      30,220.66  0.0306  0.4595  0.0331  0.0319  0.0496  0.1621  0.1983  ±0.65%    15111

 BENCH  Summary

  whileAndIfWithConcat - src/counterstring.bench.ts &gt; counterstring 10.000
    1.01x faster than whileAndIfWithPlus
    1.07x faster than whileAndIfWithTemplateString
    1.30x faster than whileAndIfButSeparate
    1.53x faster than recursiveFunction
    1.85x faster than evilTesterCreateListAndReverseIt
    2.86x faster than createListAndReverseIt
    11.22x faster than evilTester
    11.70x faster than perClipInTS
</pre></div>

<div class="code"><pre class="code literal-block"> ✓ src/counterstring.bench.ts &gt; counterstring 10.000 5462ms
     name                                     hz     min     max    mean     p75     p99    p995    p999     rme  samples
   · createListAndReverseIt            11,320.29  0.0805  0.4932  0.0883  0.0879  0.1312  0.2157  0.2720  ±0.47%     5661
   · evilTester                         2,819.11  0.3270  0.7586  0.3547  0.3523  0.6031  0.6753  0.7465  ±0.70%     1410
   · evilTesterCreateListAndReverseIt  17,548.40  0.0515  0.4589  0.0570  0.0559  0.0882  0.2108  0.2662  ±0.62%     8775
   · perClipInTS                        2,767.61  0.3416  0.7966  0.3613  0.3554  0.6125  0.6740  0.7954  ±0.62%     1384   slowest
   · recursiveFunction                 20,695.35  0.0433  0.5776  0.0483  0.0459  0.0778  0.2725  0.4199  ±1.02%    10348
   · whileAndIfButSeparate             24,847.09  0.0366  1.9748  0.0402  0.0390  0.0586  0.1832  0.2334  ±1.02%    12424
   · whileAndIfWithConcat              30,877.64  0.0288  0.3930  0.0324  0.0312  0.0518  0.1659  0.2273  ±0.68%    15439
   · whileAndIfWithPlus                31,497.11  0.0289  0.3876  0.0317  0.0310  0.0463  0.1624  0.2088  ±0.65%    15749   fastest
   · whileAndIfWithTemplateString      30,109.89  0.0307  0.4864  0.0332  0.0324  0.0478  0.1629  0.2018  ±0.65%    15056

 BENCH  Summary

  whileAndIfWithPlus - src/counterstring.bench.ts &gt; counterstring 10.000
    1.02x faster than whileAndIfWithConcat
    1.05x faster than whileAndIfWithTemplateString
    1.27x faster than whileAndIfButSeparate
    1.52x faster than recursiveFunction
    1.79x faster than evilTesterCreateListAndReverseIt
    2.78x faster than createListAndReverseIt
    11.17x faster than evilTester
    11.38x faster than perClipInTS
</pre></div>

<h3>The&nbsp;ranking</h3>
<p>If we use these results to rank the implementations from slowest to fastest, we&nbsp;get:</p>
<ol>
<li><code>perClipInTS</code></li>
<li><code>evilTester</code></li>
<li><code>createListAndReverseIt</code></li>
<li><code>evilTesterCreateListAndReverseIt</code></li>
<li><code>recursiveFunction</code></li>
<li><code>whileAndIfButSeparate</code></li>
<li><code>whileAndIfWithTemplateString</code></li>
<li><code>whileAndIfWithConcat and whileAndIfWithPlus</code></li>
</ol>
<h2>My reflections on the&nbsp;results</h2>
<h3>Don&#8217;t reverse a string if you don&#8217;t have&nbsp;to</h3>
<p>The four slowest implementations all involve reversing either lists or strings. The slowest ones by&nbsp;far, <code>perClipInTS</code> and <code>evilTester</code>, reverse strings in two places: when creating the string to add to the intermediate result and right before returning the complete&nbsp;string.</p>
<p>The reason for the slowness is that there isn&#8217;t an optimized way to reverse a string in TypeScript (or JavaScript). So you end up doing&nbsp;this: <code>.split("").reverse().join("")</code>. You split the string into an array, reverse the array, and join the array into a string again. A quick search shows there are plenty of other ways to do this, but the fact there is a discussion at all, with differences in performance across browsers, is enough reason for me to conclude: If you don&#8217;t have to reverse a string in TypeScript/JavaScript, then&nbsp;don&#8217;t.</p>
<p>This is demonstrated by the performance of the next two slowest&nbsp;implementations, <code>createListAndReverseIt</code> and <code>evilTesterCreateListAndReverseIt</code>. The only difference between the latter one and the&nbsp;original <code>evilTester</code> one is that it pushes each sub-string directly to a list, then reverses the list, and joins it into a string. Because of that we also no longer have to reverse each sub-string. The result is an implementation that&#8217;s about six times&nbsp;faster.</p>
<h3>Recursion performs ok until you run out of&nbsp;stack</h3>
<p>The recursive implementation is not the fastest, but it doesn&#8217;t perform horribly. Until you try to run the benchmark creating a counterstring of length 100.000. That is, untill you run out of&nbsp;stack.</p>
<p>Tinybench drops&nbsp;a <code>'Maximum call stack size exceeded'</code> and&nbsp;a <code>'RangeError: Maximum call stack size exceeded\n    at Number.toString (&lt;anonymous&gt;)\n ...'</code> in the output. Vitest bench omits the table with results, only giving you the comparisons, with the fastest implementation&nbsp;being <code>NaNx faster than recursiveFunction</code>.</p>
<h3>Less is&nbsp;more</h3>
<p>The four fastest implementations are&nbsp;the <code>whileAndIf</code>-variations. The main thing they have in common is that they don&#8217;t reverse any lists or strings. They still construct the counterstring starting at the end and working backwards. But they do this by prepending each sub-string to the intermediate&nbsp;result.</p>
<p>Of these&nbsp;four, <code>whileAndIfButSeparate</code> is the slowest. That makes sense. It prepends the token and the number separately to the intermediate result, so it has to go through&nbsp;the <code>while</code>-loop for every token and every number instead of for every combined token and number. Prepending the token and the number together makes the other&nbsp;three <code>whileAndIf</code>-variations almost a third faster&nbsp;than <code>whileAndIfButSeparate</code>.</p>
<p>The difference between the three fastest implementations is in how the token and the number are concatenated: by a template string, with&nbsp;the <code>+</code> operator, or by&nbsp;using <code>concat()</code>. Here the results show that template string is slower than the other two, but that there isn&#8217;t a real difference between the&nbsp;the <code>+</code> operator&nbsp;and <code>concat()</code>.</p>
<h2>Closing&nbsp;thoughts</h2>
<p>I really enjoyed <a href="../comparing-counterstring-implementations-in-typescript/">figuring out these different implementations</a> and seeing the significant difference in performance between (some of)&nbsp;them.</p>
<p>And I&#8217;m quite happy that the most performant version, also scores well on&nbsp;readability:</p>
<div class="code"><pre class="code literal-block"><span class="k">export</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">counterstring</span><span class="p">(</span><span class="nx">length</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">counterString</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">""</span><span class="p">;</span>

<span class="w">  </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nx">length</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">prependThis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">length</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s2">"*"</span><span class="p">;</span>
<span class="w">    </span><span class="nx">counterString</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">prependThis</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">counterString</span><span class="p">;</span>
<span class="w">    </span><span class="nx">length</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="nx">prependThis</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// At this point length is either 1 (the while-loop prepended 3*) or 0 ( the while-loop prepended 2*).</span>
<span class="w">  </span><span class="c1">// If length is 1, we need to prepend "*" to get the correct counterstring. If it's 0, we're done.</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">length</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">counterString</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"*"</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">counterString</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">counterString</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../../categories/counterstring/" rel="tag">counterstring</a></li>
            <li><a class="tag p-category" href="../../../categories/programming/" rel="tag">programming</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../optimizing-for-moments-of-discovery/" rel="prev" title="Optimizing for moments of discovery">Previous&nbsp;post</a>
            </li>
            <li class="next">
                <a href="../five-levels-of-note-taking-in-meetings/" rel="next" title="Five levels of note-taking in meetings">Next&nbsp;post</a>
            </li>
        </ul></nav></aside></article><!--End of body content--><footer id="footer">
            Contents © 2026 
<a href="https://creativecommons.org/licenses/by-nc/4.0/" rel="nofollow" target="_blank">
<img alt="Creative Commons BY-NC License" style="border-width:0;margin: 0px 0px 0px 0px" src="https://licensebuttons.net/l/by-nc/4.0/80x15.png"></a>
<a href="mailto:site@joep.slmail.me">Joep Schuurkes</a> - Powered by <a href="https://getnikola.com" rel="nofollow" target="_blank">Nikola</a> - Analytics by <a href="https://plausible.io/" rel="nofollow" target="_blank">Plausible</a>
            
        </footer>
</div>
</div>

        <script src="../../../assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element){var i=element.getElementsByTagName('img')[0];return i===undefined?'':i.alt;}});
    </script>
</body>
</html>