<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>(clj 1) Deciding on a Clojure editor | Joep Schuurkes</title>
<link href="../../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Playfair+Display:700,900" rel="stylesheet">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../../rss.xml">
<link rel="alternate" type="application/atom+xml" title="Atom" hreflang="en" href="../../../feed.atom">
<link rel="canonical" href="https://smallsheds.garden/blog/clojure/2020/clj1-deciding-on-an-editor/">
<link rel="icon" href="../../../../assets/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" href="../../../../assets/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" href="../../../../assets/favicons/favicon-96x96.png" sizes="96x96">
<!--[if lt IE 9]><script src="../../../../assets/js/html5.js"></script><![endif]--><script defer data-domain="j19sch.github.io" src="https://plausible.io/js/plausible.js"></script><meta name="author" content="Joep Schuurkes">
<link rel="prev" href="../clj0-diving-straight-in/" title="(clj 0) Diving straight in with some koans" type="text/html">
<link rel="next" href="../clj2-setting-up-vim/" title="(clj 2) Setting up Vim for Clojure" type="text/html">
<meta property="og:site_name" content="Joep Schuurkes">
<meta property="og:title" content="(clj 1) Deciding on a Clojure editor">
<meta property="og:url" content="https://smallsheds.garden/blog/clojure/2020/clj1-deciding-on-an-editor/">
<meta property="og:description" content="The second chapter of &quot;Clojure for the Brave and True&quot; is all about Emacs, &quot;an excellent Clojure editor&quot;. Now you might wonder: does your choice of editor really matter that much? You're learning the ">
<meta property="og:image" content="https://smallsheds.garden/images/default-preview.jpeg">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2020-05-01T18:00:15+02:00">
<meta property="article:tag" content="brave clojure">
<meta property="article:tag" content="clojure">
<meta property="article:tag" content="IDEs">
<meta property="article:tag" content="programming">
<meta property="article:tag" content="vim">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Header and menu bar -->
<div class="container">
      <header class="blog-header py-3"><div class="row nbb-header align-items-center">
          <div class="col-md-3 col-xs-2 col-sm-2" style="width: auto;">
            <button class="navbar-toggler navbar-light bg-light nbb-navbar-toggler" type="button" data-toggle="collapse" data-target=".bs-nav-collapsible" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse bs-nav-collapsible bootblog4-search-form-holder">
                
            </div>
        </div>
          <div class="col-md-6 col-xs-10 col-sm-10 bootblog4-brand" style="width: auto;">
            <a class="navbar-brand blog-header-logo text-dark" href="../../../../">

            <span id="blog-title">Joep Schuurkes</span>
        </a>
          </div>
            <div class="col-md-3 justify-content-end align-items-center bs-nav-collapsible collapse flex-collapse bootblog4-right-nav">
            <nav class="navbar navbar-light bg-white"><ul class="navbar-nav bootblog4-right-nav"></ul></nav>
</div>
    </div>
</header><nav class="navbar navbar-expand-md navbar-light bg-white static-top"><div class="collapse navbar-collapse bs-nav-collapsible" id="bs-navbar">
            <ul class="navbar-nav nav-fill d-flex w-100">
<li class="nav-item">
<a href="../../../../index.html" class="nav-link">Home</a>
                </li>
<li class="nav-item">
<a href="../../../../my-projects/" class="nav-link">Projects</a>
                </li>
<li class="nav-item">
<a href="../../../../my-talks/" class="nav-link">Talks</a>
            </li>
<li class="nav-item dropdown">
<a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Lists</a>
            <div class="dropdown-menu">
                    <a href="../../../../my-lists/reading-list/" class="dropdown-item">Reading list</a>
                    <a href="../../../../my-lists/recommended-reading/" class="dropdown-item">Recommended reading</a>
                    <a href="../../../../my-lists/favorite-podcasts/" class="dropdown-item">Favorite podcasts</a>
            </div>
            </li>
<li class="nav-item dropdown">
<a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Blog</a>
            <div class="dropdown-menu">
                    <a href="../../../" class="dropdown-item">My blog</a>
                    <a href="../../../../categories/" class="dropdown-item">Categories and tags</a>
                    <a href="../../../../archive.html" class="dropdown-item">Archive</a>
                    <a href="../../../rss.xml" class="dropdown-item"><span class="caps">RSS</span> feed</a>
                    <a href="../../../feed.atom" class="dropdown-item">Atom feed</a>
            </div>

                
            </li>
</ul>
</div>
<!-- /.navbar-collapse -->
</nav>
</div>

<div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">(clj 1) Deciding on a Clojure&nbsp;editor</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    Joep&nbsp;Schuurkes
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2020-05-01T18:00:15+02:00" itemprop="datePublished" title="1 May 2020">1 May 2020</time></a>
            </p>
            
        </div>
        
    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<p>The second chapter of &#8220;<a href="https://www.braveclojure.com/">Clojure for the Brave and True</a>&#8221; is all about Emacs, &#8220;an excellent Clojure editor&#8221;. Now you might wonder: does your choice of editor really matter that much? You&#8217;re learning the language, so you don&#8217;t need advanced <span class="caps">IDE</span> features. Some syntax highlighting, some code completion, something to help you manage all those parantheses perhaps, done. That would be true if not for the Clojure&nbsp;<span class="caps">REPL</span>.</p>
<h3>The Clojure&nbsp;<span class="caps">REPL</span></h3>
<p>The <a href="https://clojure.org/guides/repl/introduction"><span class="caps">REPL</span></a> is definitely a Thing™️ in Clojure. It gives you a prompt where you can type code and it will execute it immediately. You can also load files with code into it, interacting with the functions and data defined in those. So that&#8217;s a signifcantly faster feedback loop than having to compile and then run - which is how you&#8217;d normally run something written in Clojure, since its primary platform is the <span class="caps">JVM</span>. There are <a href="https://clojure.org/guides/repl/launching_a_basic_repl">different ways</a> of launching a <span class="caps">REPL</span>, but most guides I found tell you to use <a href="https://leiningen.org/">Leiningen</a>. Oh, and <span class="caps">REPL</span> stands for Read-Evaluate-Print_Loop, because that&#8217;s what the <span class="caps">REPL</span>&nbsp;does.</p>
<p>It definitely feels like this <span class="caps">REPL</span> is a bigger deal than I appreciate right now. Probably because I have only just begun learning Clojure. On the other hand, I may have also been spoiled by the quick feedback provided by Python and its <a href="https://docs.python.org/3/library/idle.html"><span class="caps">IDLE</span></a>. On the third hand, it&#8217;s only because of learning of the Clojure <span class="caps">REPL</span>, I looked into importing files into Python&#8217;s <span class="caps">IDLE</span> and found out that&#8217;s indeed a thing it can&nbsp;do.</p>
<!-- TEASER_END -->

<p>In any case, for a Clojure editor you want an editor that&#8217;s able to connect to and interact with the <span class="caps">REPL</span>. It&#8217;s defintely possible to type commands into the <span class="caps">REPL</span> yourself to make it do things like (re)loading files or evaluating a function, but that&#8217;s making things harder for yourself than&nbsp;needed.</p>
<h3>Emacs</h3>
<p>As mentioned in my <a href="../clj0-diving-straight-in/">previous post</a>, I don&#8217;t seem to have the mind for <a href="https://www.gnu.org/software/emacs/">Emacs</a>. However with the Brave-and-True book recommending it, I decided to give it another shot. It had been almost two decades after all. And I must say the book does a great job teaching the Emacs you need for Clojure, including the most useful keybindings for <a href="https://www.emacswiki.org/emacs/ParEdit">paredit</a>, which is a minor mode to help &#8220;keep parentheses balanced&#8221;. Unfortunately it also confirmed my feelings towards Emacs. It doesn&#8217;t click with me. The keybindings feel weird somehow. Probably that would change if I&#8217;d put in more effort than just going through the chapter once, but Chapter 1 did list some alternative editors. So I decided to take a look at Visual Studio Code and Vim, to see if they would work for&nbsp;me.</p>
<h3>Visual Studio&nbsp;Code</h3>
<p>Although I like <a href="https://code.visualstudio.com/">Visual Studio Code</a> as an editor, I rarely use it since PyCharm and Sublime Text cover my needs. Which gives me the advantage of being able to set up <span class="caps">VS</span> Code specifically for Clojure, without having to worry that it might mess something&nbsp;up.</p>
<p>There are two Clojure plugins for <span class="caps">VS</span> Code. The first one I tried is simply called <a href="https://marketplace.visualstudio.com/items?itemName=avli.clojure">Clojure</a>. I tried it out and had to do quite some experimenting as I didn&#8217;t really understand yet what a <span class="caps">REPL</span> is and what you would do with it. So after messing about with it, I drew some wrong conclusions, felt it was lacking and looked for an&nbsp;alternative.</p>
<p>The alternative is called <a href="https://marketplace.visualstudio.com/items?itemName=betterthantomorrow.calva">Calva</a>. It&#8217;s definitely fancier than the other plugin. It adds a lot more commands to <span class="caps">VS</span> Code&#8217;s Command Palette. It opens a <span class="caps">REPL</span> prompt with syntax highlighting, code completion and <a href="https://calva.io/paredit/">paredit</a>. This <span class="caps">REPL</span> prompt opens as an editor window, so you can have your code and the <span class="caps">REPL</span> side-by-side, which I really like. Finally, Calva&#8217;s documentation is a lot better than that of the other&nbsp;plugin.</p>
<p>So Visual Studio Code with Calva looks like an excellent alternative to Emacs, but first I wanted to take a look at Vim as Clojure&nbsp;editor.</p>
<h3>Some lessons&nbsp;learned</h3>
<p>Before we move on to Vim, I want to come back to those wrong conclusions I mentioned. I only discovered I had drawn these wrong conclusions because I wanted to write these blog posts and thus had to reconstruct what I had done earlier. Sparing all of us some time, I am just going to share what I learned during the reconstruction, but had gotten wrong during my initial&nbsp;exploration.</p>
<p>Lesson 1: start your editor (e.g. by&nbsp;running <code>code .</code> ) in the directory with&nbsp;your <code>project.clj</code>. This way the <span class="caps">REPL</span> will load your project (instead of not) and it will create&nbsp;its <code>.nrepl-port</code> file where you expect it to&nbsp;be.</p>
<p>Lesson 2: The <span class="caps">REPL</span> will create&nbsp;a <code>.nrepl-port</code> file with the port it is running on. However, when you&nbsp;do <code>lein repl</code> in that same folder, it will not figure out that file is there and connect to the existing <span class="caps">REPL</span>. It will start a new <span class="caps">REPL</span> and overwrite the file with its own port&nbsp;number.</p>
<p>Lesson 3: If you want to connect to an existing <span class="caps">REPL</span>, you can do so&nbsp;with <code>lein repl :connect &lt;port&gt;</code> or even easier&nbsp;with <code>lein repl :connect $(cat .nrepl-port)</code>. This way you can do the editing in your editor and your REPLing in a separate terminal. At least that&#8217;s the way I think I&#8217;ll be using the <span class="caps">REPL</span>, but that also something to do with the fact that my window manager <a href="https://i3wm.org/">i3wm</a> makes it really easy to manage the two separate&nbsp;windows.</p>
<p>Perhaps also good to mention, somewhere along the way I updated Leiningen from 2.8.1 to 2.9.1, because something (I forgot what) was displaying an error because of the older version. Luckily that update just worked by downloading and installing a .deb of that version - without leading me into dependency&nbsp;hell.</p>
<h3>Vim</h3>
<p>For some reason I&#8217;ve always really liked <a href="https://www.vim.org/">Vim</a>. I&#8217;ve also never really used it for anything more than a quick edit of some file, since it has a steep learning curve. You need consistent practice to get over that initial cliff. Actually, the only reason I&#8217;m comfortable using Vim&#8217;s basic movement&nbsp;keys <code>h j k l</code> is because I&#8217;ve played enough roguelikes such as <a href="https://crawl.develz.org/">Dungeon Crawl Stone Soup</a> that use those keys to move your character&nbsp;around.</p>
<p>The Clojure plugin for Vim is <a href="https://github.com/tpope/vim-fireplace">vim-fireplace</a>. It works slightly differently as it is &#8220;not quite a <span class="caps">REPL</span>&#8221;. Apparently - I&#8217;m just repeating what I read here - providing a <span class="caps">REPL</span> prompt is not something that would play nice with the way Vim&#8217;s buffers&nbsp;work.</p>
<p>How it does work, is&nbsp;that <code>cpp</code> will evaluate what&#8217;s under your cursor in Vim&#8217;s command-line window. To be exact, it evalutes the innermost form. I have somewhat of an intuitive graps of what that meams, &#8220;innermost form&#8221;, but don&#8217;t ask me to explain it just yet. There&#8217;s&nbsp;also <code>cqq</code>, which gives you a blank line in insert mode to type in and evaluate some Clojure. Finally,&nbsp;there&#8217;s <code>cpr</code>. I thought it just reloaded the file into the <span class="caps">REPL</span>, but looking <a href="https://github.com/tpope/vim-fireplace/blob/master/doc/fireplace.txt">here</a> it seems it will also run tests. So perhaps it&#8217;s better to&nbsp;use <code>:Require</code> for the&nbsp;reloading?</p>
<h3>Going forward with&nbsp;Vim</h3>
<p>Having tried out these different editors and how they interact with the Leiningen <span class="caps">REPL</span>, I have decided to go with Vim. It might not be the best idea to learn both Clojure and Vim at the same time, but I&#8217;m still too intrigued with Vim not to try. And I know that I have Visual Studio Code with Calva as a&nbsp;backup.</p>
<p>All in all I think it took me several hours to set up these editors, play around with them and form an opinion. I&#8217;m not sure how I feel about that. It does allow me to make an informed choice about which editor to use, but I could have also spent that time actually learning&nbsp;Clojure.</p>
<p>And the best part is that I haven&#8217;t even set up Vim properly. There are some more recommended plugins in addition to vim-fireplace. And I should clean up my Vim config and the plugins I installed when looking into Vim for Python a few years ago. So more on that next&nbsp;time.</p>
</div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../../../categories/brave-clojure/" rel="tag">brave&nbsp;clojure</a></li>
            <li><a class="tag p-category" href="../../../../categories/clojure/" rel="tag">clojure</a></li>
            <li><a class="tag p-category" href="../../../../categories/ides/" rel="tag">IDEs</a></li>
            <li><a class="tag p-category" href="../../../../categories/programming/" rel="tag">programming</a></li>
            <li><a class="tag p-category" href="../../../../categories/vim/" rel="tag">vim</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../clj0-diving-straight-in/" rel="prev" title="(clj 0) Diving straight in with some koans">Previous&nbsp;post</a>
            </li>
            <li class="next">
                <a href="../clj2-setting-up-vim/" rel="next" title="(clj 2) Setting up Vim for Clojure">Next&nbsp;post</a>
            </li>
        </ul></nav></aside></article><!--End of body content--><footer id="footer">
            Contents © 2022     
<a href="https://creativecommons.org/licenses/by/4.0/">
<img alt="Creative Commons License" style="border-width:0;margin: 0px 0px 0px 0px" src="https://licensebuttons.net/l/by/4.0/80x15.png"></a>
    <a href="mailto:site@joep.slmail.me">Joep Schuurkes</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>
            
        </footer>
</div>
</div>

        <script src="../../../../assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element){var i=element.getElementsByTagName('img')[0];return i===undefined?'':i.alt;}});
    </script>
</body>
</html>